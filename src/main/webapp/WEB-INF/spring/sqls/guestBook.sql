DROP TABLE GUESTBOOK;
DROP SEQUENCE BOARDNUM;

CREATE SEQUENCE BOARDNUM;

CREATE TABLE GUESTBOOK(
	BOARDNUM NUMBER PRIMARY KEY,	--글번호
	USERNAME VARCHAR2(500) NOT NULL,--사용자이름
	NICKNAME VARCHAR2(500) NOT NULL,--닉네임
	CONTENT VARCHAR2(4000) NOT NULL,--내용
	REPORTING_DATE DATE NOT NULL,	--작성일
	SENDTO VARCHAR2(400),			--
	SECRET VARCHAR2(10) NOT NULL,	--비밀글
	A VARCHAR2(100),				--보험
	B VARCHAR2(100)					--보험
);

SELECT * FROM GUESTBOOK;

	SELECT * FROM GUESTBOOK  WHERE SENDTO = 'xsw0709' AND SECRET = 'N' 
		OR (BOARDNUM IN (SELECT BOARDNUM FROM GUESTBOOK WHERE SECRET = 'Y' AND USERNAME = '123' AND SENDTO = 'xsw0709')) ORDER BY BOARDNUM DESC
		
		